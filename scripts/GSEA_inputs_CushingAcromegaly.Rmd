Making input files for GSEA
========================================================

Making the input file
----------------------

```{r Read-data, echo=FALSE}

deseq2.Cushing <- "../data/processed/Annotated Results GRCh37.74 - Cushing.csv"
deseq2.Acromegaly <- "../data/processed/Annotated Results GRCh37.74 - Acromegaly.csv"
deseq2.Cushing.results <- read.csv(deseq2.Cushing, row.names="X")
deseq2.Acromegaly.results <- read.csv(deseq2.Acromegaly, row.names="X")

#order by pvalue and get rid of those with NA foldchange
Acromegaly.results.noNA <- deseq2.Acromegaly.results[which(deseq2.Acromegaly.results$log2FoldChange != 'NA'),]
Acromegaly.results.noNA <- Acromegaly.results.noNA[order(Acromegaly.results.noNA$log2FoldChange),c(7,2)]
#get rid of duplicate genes
Acromegaly.results.noDup <- Acromegaly.results.noNA[!duplicated(Acromegaly.results.noNA$external_gene_id),]
acromegaly_data_file <- "../data/processed/GSEA_Acromegaly_prerank_FC.rnk"
write.table(Acromegaly.results.noDup, file=acromegaly_data_file, sep="\t", quote=FALSE, row.names=FALSE)

#order by pvalue and get rid of those with NA pvalues
cushing.results.noNA <- deseq2.Cushing.results[which(deseq2.Cushing.results$log2FoldChange != 'NA'),]
cushing.results.noNA <- cushing.results.noNA[order(cushing.results.noNA$log2FoldChange),c(7,2)]
#get rid of duplicate genes
cushing.results.noDup <- cushing.results.noNA[!duplicated(cushing.results.noNA$external_gene_id),]
cushing_data_file <- "../data/processed/GSEA_Cushing_prerank_FC.rnk"
write.table(cushing.results.noDup, file=cushing_data_file, sep="\t", row.names=FALSE, quote=FALSE)


```

This script takes the input files `r deseq2.Cushing`, `r deseq2.Acromegaly`.  This script was most recently run on `r date()`.  It writes out two data files `r cushing_data_file` and `r acromegaly_data_file`.


Session Information
---------------------

```{r session-information}
sessionInfo()
```